---
# yaml-language-server: $schema=https://raw.githubusercontent.com/defenseunicorns/zarf/v0.33.1/zarf.schema.json
kind: ZarfPackageConfig
metadata:
  name: nvidia-gpu-operator
  description: "Deploys the Nvidia GPU Operator and dependencies"
  version: v0.0.1
  authors: Justin Bailey
  source: https://helm.ngc.nvidia.com/nvidia/
  documentation: https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/latest/index.html

components:
  - name: gpu-operator
    required: true
    description: "Deploys the Nvidia GPU Operator and dependencies"
    charts:
      - name: gpu-operator
        url: https://helm.ngc.nvidia.com/nvidia
        version: 24.3.0
        namespace: gpu-operator
    images:
      - nvcr.io/nvidia/k8s/container-toolkit:v1.15.0-ubi8
      - nvcr.io/nvidia/k8s/container-toolkit:v1.15.0-ubuntu20.04
      - nvcr.io/nvidia/k8s/container-toolkit:v1.15.0-packaging
      - nvcr.io/nvidia/cuda:12.4.1-base-ubuntu20.04
      - nvcr.io/nvidia/cuda:12.4.1-base-ubuntu22.04
      - nvcr.io/nvidia/cuda:12.4.1-base-ubi8
      - nvcr.io/nvidia/cuda:12.4.1-base-ubi9
      - nvcr.io/nvidia/cuda:12.4.1-base-rockylinux8
      - nvcr.io/nvidia/cuda:12.4.1-base-rockylinux9
      - nvcr.io/nvidia/gpu-operator:v24.3.0-ubi8
      - nvcr.io/nvidia/gpu-operator:v24.3.0
      - nvcr.io/nvidia/cloud-native/dcgm:3.3.5-1-ubi9
      - nvcr.io/nvidia/cloud-native/dcgm:3.3.5-1-ubuntu22.04
      - nvcr.io/nvidia/k8s/dcgm-exporter:3.3.5-3.4.1-ubi9
      - nvcr.io/nvidia/k8s/dcgm-exporter:3.3.5-3.4.1-ubuntu22.04
      - nvcr.io/nvidia/driver:550-5.15.0-1053-nvidia-ubuntu22.04
      - nvcr.io/nvidia/driver:535-5.15.0-1060-aws-ubuntu22.04
      - nvcr.io/nvidia/driver:535-5.15.0-105-generic-ubuntu22.04
      - nvcr.io/nvidia/driver:535-5.15.0-1061-azure-ubuntu22.04
      - nvcr.io/nvidia/cloud-native/gdrdrv:v2.4.1-ubuntu22.04
      - nvcr.io/nvidia/cloud-native/gpu-operator-validator:v24.3.0-ubi8
      - nvcr.io/nvidia/cloud-native/gpu-operator-validator:v24.3.0
      - nvcr.io/nvidia/cloud-native/k8s-cc-manager:v0.1.1
      - nvcr.io/nvidia/k8s-device-plugin:v0.15.0-ubi8
      - nvcr.io/nvidia/k8s-device-plugin:v0.15.0-ubuntu22.04
      - nvcr.io/nvidia/cloud-native/k8s-driver-manager:v0.6.8-ubi8
      - nvcr.io/nvidia/cloud-native/k8s-driver-manager:v0.6.8
      - nvcr.io/nvidia/cloud-native/k8s-kata-manager:v0.2.0-ubi8
      - nvcr.io/nvidia/cloud-native/k8s-kata-manager:v0.2.0
      - nvcr.io/nvidia/cloud-native/k8s-mig-manager:v0.7.0-ubuntu20.04
      - nvcr.io/nvidia/cloud-native/k8s-mig-manager:v0.7.0
      - nvcr.io/nvidia/cloud-native/k8s-mig-manager:v0.7.0-ubi8
      - nvcr.io/nvidia/kubevirt-gpu-device-plugin:v1.2.7
      - nvcr.io/nvidia/gpu-operator:v24.3.0
      - nvcr.io/nvidia/gpu-feature-discovery:v0.8.2-ubi8
      - nvcr.io/nvidia/gpu-feature-discovery:v0.8.2
      - registry.k8s.io/nfd/node-feature-discovery:v0.15.4
      - nvcr.io/nvidia/cloud-native/kata-gpu-artifacts:ubuntu22.04-535.54.03
      - nvcr.io/nvidia/cloud-native/kata-gpu-artifacts:ubuntu22.04-535.86.10-snp
